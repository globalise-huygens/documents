{% extends "base.html" %} {% block title %}Scans - GLOBALISE Documents{%
endblock %} {% block content %}
<h1>Scans</h1>

{% if inventory_id %}
<p><a href="/scans">View all scans</a></p>
{% endif %}

<div class="image-grid">
  {% for scan in scans %}
  <div class="image-item">
    <a href="/scan/{{ scan.id }}">
      <img
        src="{{ scan.get_thumbnail_url() }}"
        alt="{{ scan.filename }}"
        loading="lazy"
      />
    </a>
    <p>
      <strong>{{ scan.filename }}</strong><br />
      <small>{{ scan.width }}x{{ scan.height }}px</small><br />
      {% if scan.scan_type %}
      <span class="badge badge-primary">{{ scan.scan_type.value }}</span>
      {% endif %}
    </p>
  </div>
  {% endfor %}
</div>

{% if total_pages > 1 %}
<div class="pagination">
  {% if page > 1 %}
  <a
    href="?page=1{% if inventory_id %}&inventory_id={{ inventory_id }}{% endif %}"
    >First</a
  >
  <a
    href="?page={{ page - 1 }}{% if inventory_id %}&inventory_id={{ inventory_id }}{% endif %}"
    >Previous</a
  >
  {% endif %} {% for p in range(1, total_pages + 1) %} {% if p == page %}
  <span class="current">{{ p }}</span>
  {% elif p <= 3 or p > total_pages - 3 or (p >= page - 2 and p <= page + 2) %}
  <a
    href="?page={{ p }}{% if inventory_id %}&inventory_id={{ inventory_id }}{% endif %}"
    >{{ p }}</a
  >
  {% elif p == 4 or p == total_pages - 3 %}
  <span>...</span>
  {% endif %} {% endfor %} {% if page < total_pages %}
  <a
    href="?page={{ page + 1 }}{% if inventory_id %}&inventory_id={{ inventory_id }}{% endif %}"
    >Next</a
  >
  <a
    href="?page={{ total_pages }}{% if inventory_id %}&inventory_id={{ inventory_id }}{% endif %}"
    >Last</a
  >
  {% endif %}
</div>
{% endif %} {% endblock %}
